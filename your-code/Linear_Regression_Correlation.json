{"paragraphs":[{"text":"%md\n# Linear Regression and Correlation\n\n## Challenge 1\n\nYou are the owner of a big company and you suspect that the younger your employees are, the most likely it is that they don't come to work. In order to prove this hypothesis, you have gathered some data:\n\n| EmployeeID | Age | Absences |\n|--------|-----|------------|\n| 1      | 27  | 15         |\n| 2      | 61  | 6          |\n| 3      | 37  | 10         |\n| 4      | 23  | 18         |\n| 5      | 46  |  9         |\n| 6      | 58  |  7         |\n| 7      | 29  | 14         |\n| 8      | 36  | 11         |\n| 9      | 64  |  5         |\n| 10     | 40  |  8         |\n\nYou can find this data in Ironhack's database:\ndb: `employees`\ntable: `absences`\n\nImport the necessary libraries to complete the lab here:","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Linear Regression and Correlation</h1>\n<h2>Challenge 1</h2>\n<p>You are the owner of a big company and you suspect that the younger your employees are, the most likely it is that they don&rsquo;t come to work. In order to prove this hypothesis, you have gathered some data:</p>\n<table>\n  <thead>\n    <tr>\n      <th>EmployeeID </th>\n      <th>Age </th>\n      <th>Absences </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1 </td>\n      <td>27 </td>\n      <td>15 </td>\n    </tr>\n    <tr>\n      <td>2 </td>\n      <td>61 </td>\n      <td>6 </td>\n    </tr>\n    <tr>\n      <td>3 </td>\n      <td>37 </td>\n      <td>10 </td>\n    </tr>\n    <tr>\n      <td>4 </td>\n      <td>23 </td>\n      <td>18 </td>\n    </tr>\n    <tr>\n      <td>5 </td>\n      <td>46 </td>\n      <td>9 </td>\n    </tr>\n    <tr>\n      <td>6 </td>\n      <td>58 </td>\n      <td>7 </td>\n    </tr>\n    <tr>\n      <td>7 </td>\n      <td>29 </td>\n      <td>14 </td>\n    </tr>\n    <tr>\n      <td>8 </td>\n      <td>36 </td>\n      <td>11 </td>\n    </tr>\n    <tr>\n      <td>9 </td>\n      <td>64 </td>\n      <td>5 </td>\n    </tr>\n    <tr>\n      <td>10 </td>\n      <td>40 </td>\n      <td>8 </td>\n    </tr>\n  </tbody>\n</table>\n<p>You can find this data in Ironhack&rsquo;s database:<br/>db: <code>employees</code><br/>table: <code>absences</code></p>\n<p>Import the necessary libraries to complete the lab here:</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459365_1394651400","id":"20190626-095154_672523881","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:327"},{"text":"# Libraries\nimport pandas as pd\nimport os\nos.getcwd()\nabsences_df = pd.read_csv('notebook/2EJTGRZH1/absences.csv', index_col=1)\nabsences_df.columns","user":"anonymous","dateUpdated":"2019-07-22T11:57:35+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Index(['Unnamed: 0', 'Age', 'Absences'], dtype='object')\n"}]},"apps":[],"jobName":"paragraph_1563741459367_1921347406","id":"20190626-153008_1451150607","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T11:57:35+0200","dateFinished":"2019-07-22T11:57:35+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:328"},{"text":"absences_df = absences_df.drop('Unnamed: 0', axis=1)","user":"anonymous","dateUpdated":"2019-07-21T23:51:51+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563741686760_-893971920","id":"20190721-224126_555085474","dateCreated":"2019-07-21T22:41:26+0200","dateStarted":"2019-07-21T23:51:51+0200","dateFinished":"2019-07-21T23:51:51+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:329"},{"text":"absences_df","user":"anonymous","dateUpdated":"2019-07-21T23:51:53+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"            Age  Absences\nEmployeeID               \n1            27        15\n2            61         6\n3            37        10\n4            23        18\n5            46         9\n6            58         7\n7            29        14\n8            36        11\n9            64         5\n10           40         8\n"}]},"apps":[],"jobName":"paragraph_1563743160739_1207288435","id":"20190721-230600_1497311634","dateCreated":"2019-07-21T23:06:00+0200","dateStarted":"2019-07-21T23:51:54+0200","dateFinished":"2019-07-21T23:51:54+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:330"},{"text":"absences_df.shape","user":"anonymous","dateUpdated":"2019-07-21T22:43:53+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(10, 3)\n"}]},"apps":[],"jobName":"paragraph_1563741821098_-1224904924","id":"20190721-224341_1990972015","dateCreated":"2019-07-21T22:43:41+0200","dateStarted":"2019-07-21T22:43:53+0200","dateFinished":"2019-07-21T22:43:53+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:331"},{"text":"%md\n#### 1. Plot the scatter chart of `Age` and `Absences`. Comment the result. Do you see any relation between `Age` and `Absences`?","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>1. Plot the scatter chart of <code>Age</code> and <code>Absences</code>. Comment the result. Do you see any relation between <code>Age</code> and <code>Absences</code>?</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459367_-2062208083","id":"20190626-152945_953023463","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:332"},{"text":"%sql \nSELECT * FROM absences_df","user":"anonymous","dateUpdated":"2019-07-22T11:56:44+0200","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"EmployeeID":"string","Age":"string","Absences":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"scatterChart":{"xAxis":{"name":"Age","index":2,"aggr":"sum"},"yAxis":{"name":"Absences","index":3,"aggr":"sum"}}}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"EmployeeID\tUnnamed: 0\tAge\tAbsences\n1\t0\t27\t15\n2\t1\t61\t6\n3\t2\t37\t10\n4\t3\t23\t18\n5\t4\t46\t9\n6\t5\t58\t7\n7\t6\t29\t14\n8\t7\t36\t11\n9\t8\t64\t5\n10\t9\t40\t8\n"}]},"apps":[],"jobName":"paragraph_1563741459373_1101893536","id":"20190626-114900_1392014117","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-21T23:04:41+0200","dateFinished":"2019-07-21T23:04:41+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:333"},{"text":"%md\n\nFrom here we can see a negative correlation between ages and absences. It seems that, the older the worker is, the less the absences he or she has. However, we should say that a sample of 10 observations is not significant at all to prove the hypotheses of the boss. \n","user":"anonymous","dateUpdated":"2019-07-21T22:45:14+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>From here we can see a negative correlation between ages and absences. It seems that, the older the worker is, the less the absences he or she has. However, we should say that a sample of 10 observations is not significant at all to prove the hypotheses of the boss.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741845500_-333583018","id":"20190721-224405_899651374","dateCreated":"2019-07-21T22:44:05+0200","dateStarted":"2019-07-21T22:45:14+0200","dateFinished":"2019-07-21T22:45:14+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:334"},{"text":"%md\n#### 2.- Define a function to calculate the slope and intercept of the regression line for two variables. Your are not allowed to use any functions or methods that directly calculate those parameters.  ","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.- Define a function to calculate the slope and intercept of the regression line for two variables. Your are not allowed to use any functions or methods that directly calculate those parameters.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459374_1237257858","id":"20190626-095626_1554205948","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:335"},{"text":"%md\nhttps://www.statisticshowto.datasciencecentral.com/probability-and-statistics/regression-analysis/find-a-linear-regression-equation/#FindaLinear","user":"anonymous","dateUpdated":"2019-07-21T23:36:03+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p><a href=\"https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/regression-analysis/find-a-linear-regression-equation/#FindaLinear\">https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/regression-analysis/find-a-linear-regression-equation/#FindaLinear</a></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563743865169_-406777709","id":"20190721-231745_632402426","dateCreated":"2019-07-21T23:17:45+0200","dateStarted":"2019-07-21T23:36:03+0200","dateFinished":"2019-07-21T23:36:04+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:336"},{"text":"%md\nTo calculate the slope and the y-intercept of the regression line (OY, x=0), there are different methods to do. Here, two methods are presented. However, there is one method that oesn't work as expected. The second one works as expected. On it, we calculate the x_mean, the y_mean, the x-standard deviation, the y-standard deviation and the correlation between x and y. ","user":"anonymous","dateUpdated":"2019-07-22T11:42:44+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563778780955_1013757425","id":"20190722-085940_248463124","dateCreated":"2019-07-22T08:59:40+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:337","dateFinished":"2019-07-22T11:42:44+0200","dateStarted":"2019-07-22T11:42:44+0200","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>To calculate the slope and the y-intercept of the regression line (OY, x=0), there are different methods to do. Here, two methods are presented. However, there is one method that oesn&rsquo;t work as expected. The second one works as expected. On it, we calculate the x_mean, the y_mean, the x-standard deviation, the y-standard deviation and the correlation between x and y.</p>\n</div>"}]}},{"text":"## method 1: NOT WORKING\n\ndef linear_eq(df): \n    df['xy'] = df['Age'] * df['Absences']\n    df['x_2'] = df['Age'] **2\n    df['y_2'] = df['Absences'] **2\n    m = (absences_df.Absences.sum() * absences_df.x_2.sum() - (absences_df.Age.sum() * absences_df.xy.sum()))/(absences_df.shape[0]*absences_df.x_2.sum() - absences_df.Absences.sum()**2 )\n    n = (absences_df.shape[0] * absences_df.xy.sum() - absences_df.Age.sum()*absences_df.Absences.sum())/ (absences_df.shape[0]*absences_df.x_2.sum() - absences_df.Absences.sum()**2 )\n    return df","user":"anonymous","dateUpdated":"2019-07-22T00:47:46+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563741459375_-1912452134","id":"20190626-114901_2139527879","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-21T23:36:22+0200","dateFinished":"2019-07-21T23:36:22+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:338"},{"text":"#METHOD 2: WORKING!\n\n\ndef linear_eq_reg(df):\n    x_mean = df['Age'].mean() #we calcualate the x sample mean\n    y_mean = df['Absences'].mean() #we calculate the y sample mean\n    \n    std_x = df['Age'].std()  #we calculate the x standard deviation\n    std_y = df['Absences'].std() #we calculate the y standard deviation\n    \n    corr_xy = df.corr(method='pearson')['Age']['Absences'] #calculation of the standard deviation between x and y \n    \n    m = corr_xy * (std_y/std_x)  #calculation of the linear regression line slope\n    \n    n = y_mean - m*x_mean #calculation of the y-interception (x=0)\n    \n    return m,n","user":"anonymous","dateUpdated":"2019-07-22T00:48:05+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563745554291_-1056653588","id":"20190721-234554_1145198275","dateCreated":"2019-07-21T23:45:54+0200","dateStarted":"2019-07-21T23:59:19+0200","dateFinished":"2019-07-21T23:59:19+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:339"},{"text":"%md\n#### 3.- Use the function you defined in step 2 to calculate the regression line for `Age` and `Absences`. Plot it and comment your results.","user":"anonymous","dateUpdated":"2019-07-21T23:53:42+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.- Use the function you defined in step 2 to calculate the regression line for <code>Age</code> and <code>Absences</code>. Plot it and comment your results.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459375_1742269049","id":"20190626-114707_1617000297","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-21T23:53:42+0200","dateFinished":"2019-07-21T23:53:42+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:340"},{"text":"linear_eq_reg(absences_df)","user":"anonymous","dateUpdated":"2019-07-21T23:56:56+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(-0.2681088337033404, 21.58738189891063)\n"}]},"apps":[],"jobName":"paragraph_1563745596447_-524827487","id":"20190721-234636_1553686695","dateCreated":"2019-07-21T23:46:36+0200","dateStarted":"2019-07-21T23:56:56+0200","dateFinished":"2019-07-21T23:56:56+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:341"},{"text":"%md\nThe regression line follows the equation → y= mx+n → Absences = -0.2681 · Age + 21.587. In order to represent it and plot it, we calculate 10 points approximately, and we plot the results to define the regression line. ","user":"anonymous","dateUpdated":"2019-07-22T11:43:57+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>The regression line follows the equation → y= mx+n → Absences = -0.2681 · Age + 21.587. In order to represent it and plot it, we calculate 10 points approximately, and we plot the results to define the regression line.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563746363537_-963271711","id":"20190721-235923_306602926","dateCreated":"2019-07-21T23:59:23+0200","dateStarted":"2019-07-22T11:43:46+0200","dateFinished":"2019-07-22T11:43:46+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:342"},{"text":"obs_df = pd.DataFrame({'Age_x': [19,20,33,35,41,27,65,29,38,44]}) #df creation with the observation points we want to calculate. ","user":"anonymous","dateUpdated":"2019-07-22T11:44:17+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459376_-212956904","id":"20190626-114902_768521075","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T11:44:06+0200","dateFinished":"2019-07-22T11:44:10+0200","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:343","errorMessage":""},{"text":"obs_df['Absences_y'] = obs_df.apply(lambda x: -0.26811*x+21.587)  #we calculate the expected absences according to the regression line we have defined. \nobs_df","user":"anonymous","dateUpdated":"2019-07-22T11:45:05+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"   Age_x  Absences_y\n0     19    16.49291\n1     20    16.22480\n2     33    12.73937\n3     35    12.20315\n4     41    10.59449\n5     27    14.34803\n6     65     4.15985\n7     29    13.81181\n8     38    11.39882\n9     44     9.79016\n"}]},"apps":[],"jobName":"paragraph_1563744465632_134352062","id":"20190721-232745_522712180","dateCreated":"2019-07-21T23:27:45+0200","dateStarted":"2019-07-22T00:08:44+0200","dateFinished":"2019-07-22T00:08:44+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:344"},{"text":"%sql \n\nSELECT * FROM obs_df","user":"anonymous","dateUpdated":"2019-07-22T11:45:22+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"Age_x":"string","Absences_y":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"Age_x","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"Absences_y","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"Age_x\tAbsences_y\n19.0\t16.49291\n20.0\t16.2248\n33.0\t12.73937\n35.0\t12.203149999999999\n41.0\t10.594489999999999\n27.0\t14.34803\n65.0\t4.159849999999999\n29.0\t13.81181\n38.0\t11.398819999999999\n44.0\t9.790159999999998\n"}]},"apps":[],"jobName":"paragraph_1563746929189_-986738117","id":"20190722-000849_87085534","dateCreated":"2019-07-22T00:08:49+0200","dateStarted":"2019-07-22T00:08:58+0200","dateFinished":"2019-07-22T00:08:58+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:345","title":"Regression line ages-absences"},{"text":"%md\n#### 4.- Define a function to calculate the covariance and the correlation of two variables.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>4.- Define a function to calculate the covariance and the correlation of two variables.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459377_833952459","id":"20190626-114708_653238055","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:346"},{"text":"def sample_cov_calculation(df): \n    x_mean = df['Age'].mean() #we calcualate the x sample mean\n    y_mean = df['Absences'].mean() #we calculate the y sample mean\n    x_xmean = df['Age'].apply(lambda x: x-x_mean) #calculation of the difference between the actual x value of the observation and the mean value \n    y_ymean = df['Absences'].apply(lambda y: y-y_mean) #calculation of the difference between the actual y value of the observation and the mean value of y\n    num = sum(x_xmean * y_ymean) #calculation of the numerator, we multiply the two differences and we sum them \n    den = df.shape[0] - 1 # the denominator is the number of elements minus 1\n    \n    Sxy = num/den\n    return Sxy","user":"anonymous","dateUpdated":"2019-07-22T11:50:25+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563741459378_-1203874906","id":"20190626-114904_1010319335","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T00:23:59+0200","dateFinished":"2019-07-22T00:23:59+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:347"},{"text":"#The definition of correlation is the division between the sample covariance Sxy and the product between the standard deviation of the x variable and the standard deviation\n#of the y variable. \ndef sample_corr_calculation(df):\n    Sxy = sample_cov_calculation(df)\n    std_x = df['Age'].std()  #we calculate the x standard deviation\n    std_y = df['Absences'].std() #we calculate the y standard deviation\n    return Sxy/(std_x*std_y)","user":"anonymous","dateUpdated":"2019-07-22T11:52:31+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563747900190_762409861","id":"20190722-002500_954829576","dateCreated":"2019-07-22T00:25:00+0200","dateStarted":"2019-07-22T00:26:45+0200","dateFinished":"2019-07-22T00:26:45+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:348"},{"text":"%md\n#### 5.- Use the function you defined in step 4 to calculate the covariance and the correlation of `Age` and `Absences`. Compare them and comment.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>5.- Use the function you defined in step 4 to calculate the covariance and the correlation of <code>Age</code> and <code>Absences</code>. Compare them and comment.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459378_-1392798016","id":"20190626-114710_745091387","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:349"},{"text":"sample_cov_calculation(absences_df) #covariance calculation using our method.","user":"anonymous","dateUpdated":"2019-07-22T11:52:56+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"-57.699999999999996\n"}]},"apps":[],"jobName":"paragraph_1563747842753_626380012","id":"20190722-002402_1035065951","dateCreated":"2019-07-22T00:24:02+0200","dateStarted":"2019-07-22T00:24:14+0200","dateFinished":"2019-07-22T00:24:14+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:350"},{"text":"absences_df.cov()['Age']['Absences'] #calculation of the covariance value using Pandas Method","user":"anonymous","dateUpdated":"2019-07-22T00:28:59+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"-57.69999999999999\n"}]},"apps":[],"jobName":"paragraph_1563747865165_-1929880563","id":"20190722-002425_1218869720","dateCreated":"2019-07-22T00:24:25+0200","dateStarted":"2019-07-22T00:28:45+0200","dateFinished":"2019-07-22T00:28:45+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:351"},{"text":"sample_corr_calculation(absences_df) #correlation calculation using our method.","user":"anonymous","dateUpdated":"2019-07-22T11:53:10+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"-0.9325434092481012\n"}]},"apps":[],"jobName":"paragraph_1563748035736_1540132121","id":"20190722-002715_1508716951","dateCreated":"2019-07-22T00:27:15+0200","dateStarted":"2019-07-22T00:27:26+0200","dateFinished":"2019-07-22T00:27:26+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:352"},{"text":"df.corr(method='pearson')['Age']['Absences'] #calculation of the standard deviation between x and y using Pandas method ","user":"anonymous","dateUpdated":"2019-07-22T00:29:13+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"-0.9325434092481012\n"}]},"apps":[],"jobName":"paragraph_1563748007950_-349376545","id":"20190722-002647_485668317","dateCreated":"2019-07-22T00:26:47+0200","dateStarted":"2019-07-22T00:27:12+0200","dateFinished":"2019-07-22T00:27:12+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:353"},{"text":"%md\n#### 6.- Summarize your results, interpret them and give some insights. Can you confirm that the age is an indicator of absenteeism?","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>6.- Summarize your results, interpret them and give some insights. Can you confirm that the age is an indicator of absenteeism?</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459380_871492745","id":"20190626-114712_1568710553","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:354"},{"text":"%md\nConsidering our results we have achieved so far, we can see that there is a strong negative correlation between age and absences. That means that yes, we can say that the age is an indicator of absenteeism in this company, since the correlation factor between these two variables is close to 1. ","user":"anonymous","dateUpdated":"2019-07-22T11:55:39+0200","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459381_-1599239399","id":"20190626-114909_2074195551","dateCreated":"2019-07-21T22:37:39+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:355","dateFinished":"2019-07-22T11:55:39+0200","dateStarted":"2019-07-22T11:55:39+0200","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Considering our results we have achieved so far, we can see that there is a strong negative correlation between age and absences. That means that yes, we can say that the age is an indicator of absenteeism in this company, since the correlation factor between these two variables is close to 1.</p>\n</div>"}]}},{"text":"%md \n## Challenge 2\n\nGood Ironhackers stay in campus on Fridays for Ironbeers. You suspect that the more people you tell to stay, the most likely it is that they don't. You want to know if you are the reason why people don't stay so you decide to do an analysis. \n\nX is the number of people that you told to stay and Y is the number of people that actually stayed.\n\n| X | Y |\n|---|---|\n| 1 | 1 |\n| 3 | 2 |\n| 4 | 4 |\n| 6 | 4 |\n| 8 | 5 |\n| 9 | 7 |\n| 11 |8 |\n| 14 | 9 |\n\nUse the following command to create a dataframe with the data about Ironbeers attendance: ","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Challenge 2</h2>\n<p>Good Ironhackers stay in campus on Fridays for Ironbeers. You suspect that the more people you tell to stay, the most likely it is that they don&rsquo;t. You want to know if you are the reason why people don&rsquo;t stay so you decide to do an analysis. </p>\n<p>X is the number of people that you told to stay and Y is the number of people that actually stayed.</p>\n<table>\n  <thead>\n    <tr>\n      <th>X </th>\n      <th>Y </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1 </td>\n      <td>1 </td>\n    </tr>\n    <tr>\n      <td>3 </td>\n      <td>2 </td>\n    </tr>\n    <tr>\n      <td>4 </td>\n      <td>4 </td>\n    </tr>\n    <tr>\n      <td>6 </td>\n      <td>4 </td>\n    </tr>\n    <tr>\n      <td>8 </td>\n      <td>5 </td>\n    </tr>\n    <tr>\n      <td>9 </td>\n      <td>7 </td>\n    </tr>\n    <tr>\n      <td>11 </td>\n      <td>8 </td>\n    </tr>\n    <tr>\n      <td>14 </td>\n      <td>9 </td>\n    </tr>\n  </tbody>\n</table>\n<p>Use the following command to create a dataframe with the data about Ironbeers attendance:</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459381_-1436368866","id":"20190626-152119_908118441","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:356"},{"text":"ironbeers_df = pd.DataFrame({'X': [1,3,4,6,8,9,11,14], 'Y': [1,2,4,4,5,7,8,9]})\nironbeers_df","user":"anonymous","dateUpdated":"2019-07-22T11:57:58+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"    X  Y\n0   1  1\n1   3  2\n2   4  4\n3   6  4\n4   8  5\n5   9  7\n6  11  8\n7  14  9\n"}]},"apps":[],"jobName":"paragraph_1563741459382_1491154672","id":"20190626-152857_1407473295","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T11:57:58+0200","dateFinished":"2019-07-22T11:57:59+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:357"},{"text":"%md\n#### 1.- Calculate the covariance and the correlation of `X` and `Y`. Comment on the results. ","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>1.- Calculate the covariance and the correlation of <code>X</code> and <code>Y</code>. Comment on the results.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459383_-542850494","id":"20190626-152909_1076880974","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:358"},{"text":"%md\n","user":"anonymous","dateUpdated":"2019-07-22T00:35:15+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563748515272_-279692260","id":"20190722-003515_1344822470","dateCreated":"2019-07-22T00:35:15+0200","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:359"},{"text":"def sample_cov_calculation(df): \n    x_mean = df['X'].mean() #we calcualate the x sample mean\n    y_mean = df['Y'].mean() #we calculate the y sample mean\n    x_xmean = df['X'].apply(lambda x: x-x_mean)\n    y_ymean = df['Y'].apply(lambda y: y-y_mean)\n    num = sum(x_xmean * y_ymean)\n    den = df.shape[0] - 1\n    \n    Sxy = num/den\n    return Sxy\n    \n    \ndef sample_corr_calculation(df):\n    Sxy = sample_cov_calculation(df)\n    std_x = df['X'].std()  #we calculate the x standard deviation\n    std_y = df['Y'].std() #we calculate the y standard deviation\n    return Sxy/(std_x*std_y)\n\n","user":"anonymous","dateUpdated":"2019-07-22T00:45:36+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563748501919_-1079160178","id":"20190722-003501_1912549429","dateCreated":"2019-07-22T00:35:01+0200","dateStarted":"2019-07-22T00:45:36+0200","dateFinished":"2019-07-22T00:45:36+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:360"},{"text":"print(f\"The covariance between X and Y is {sample_cov_calculation(ironbeers_df)}\")\nprint(f\"The covariance between X and Y is {sample_corr_calculation(ironbeers_df)}\")\n","user":"anonymous","dateUpdated":"2019-07-22T00:46:38+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"The covariance between X and Y is 12.0\nThe covariance between X and Y is 0.9770084209183943\n"}]},"apps":[],"jobName":"paragraph_1563741459384_1960149777","id":"20190626-154852_2021527106","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T00:46:38+0200","dateFinished":"2019-07-22T00:46:38+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:361"},{"text":"%md\n#### 2.- Plot the scatter chart of `X` and `Y`. Comment on the results.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.- Plot the scatter chart of <code>X</code> and <code>Y</code>. Comment on the results.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459385_-1214307327","id":"20190626-153325_608344445","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:362"},{"text":"%sql\n\nSELECT * FROM ironbeers_df","user":"anonymous","dateUpdated":"2019-07-22T11:58:10+0200","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"X":"string","Y":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}},"helium":{}}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"X\tY\n1\t1\n3\t2\n4\t4\n6\t4\n8\t5\n9\t7\n11\t8\n14\t9\n"}]},"apps":[],"jobName":"paragraph_1563741459385_-1666445044","id":"20190626-204721_159236100","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T11:58:10+0200","dateFinished":"2019-07-22T11:58:10+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:363","title":"Scatter plot between x ( people told) and y(people that stayed)"},{"text":"%md\nFrom this graph we can see that there is a kind of relation between the number of people told and the number of people that stayed, since the greater the number of people told , the greater the number of people that remains at Ironbeers is. However, it is not a 1-1 relationship, since the slope is not 1. \n","user":"anonymous","dateUpdated":"2019-07-22T12:02:14+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563789498186_-405308832","id":"20190722-115818_38064982","dateCreated":"2019-07-22T11:58:18+0200","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:5652","dateFinished":"2019-07-22T12:02:07+0200","dateStarted":"2019-07-22T12:02:07+0200","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>From this graph we can see that there is a kind of relation between the number of people told and the number of people that stayed, since the greater the number of people told , the greater the number of people that remains at Ironbeers is. However, it is not a 1-1 relationship, since the slope is not 1.</p>\n</div>"}]}},{"text":"%md\n#### 3.- Calculate the regression line for `X` and `Y`. Commment on the results.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.- Calculate the regression line for <code>X</code> and <code>Y</code>. Commment on the results.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459386_-546316539","id":"20190626-153328_1152788064","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:364"},{"text":"\ndef linear_eq_reg(df):\n    x_mean = df['X'].mean() #we calcualate the x sample mean\n    y_mean = df['Y'].mean() #we calculate the y sample mean\n    \n    std_x = df['X'].std()  #we calculate the x standard deviation\n    std_y = df['Y'].std() #we calculate the y standard deviation\n    \n    corr_xy = df.corr(method='pearson')['X']['Y'] #calculation of the standard deviation between x and y \n    \n    m = corr_xy * (std_y/std_x)  #calculation of the linear regression line slope\n    \n    n = y_mean - m*x_mean #calculation of the y-interception (x=0)\n    \n    return m,n","user":"anonymous","dateUpdated":"2019-07-22T00:49:54+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1563749375777_-209162050","id":"20190722-004935_1710614750","dateCreated":"2019-07-22T00:49:35+0200","dateStarted":"2019-07-22T00:49:54+0200","dateFinished":"2019-07-22T00:49:54+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:365"},{"text":"linear_eq_reg(ironbeers_df)","user":"anonymous","dateUpdated":"2019-07-22T00:49:57+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(0.6363636363636365, 0.545454545454545)\n"}]},"apps":[],"jobName":"paragraph_1563741459387_-225982363","id":"20190626-204752_1693039948","dateCreated":"2019-07-21T22:37:39+0200","dateStarted":"2019-07-22T00:49:57+0200","dateFinished":"2019-07-22T00:49:57+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:366"},{"user":"anonymous","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563790057654_487085262","id":"20190722-120737_612569674","dateCreated":"2019-07-22T12:07:37+0200","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:5756","text":"%md\n\nFrom here we can say that the regression line will follow the equation → y=mx+n, being the parameters m and n the ones calculated in the previous cell. In this case the equation will be: \n\npeople_stayed = 0,63637 · people_told + 0,54545\n\nSince the slope is positive, it means that there is a positive relation between the people told and the people stayed. However, as we have said before, there is not a 1/1 relation, meaning that not all the people that is being told to stay will actually stay. In order to plot it, we calculate 10 different points and we calculate the expected value of y according to our regression line. ","dateUpdated":"2019-07-22T12:30:44+0200","dateFinished":"2019-07-22T12:30:32+0200","dateStarted":"2019-07-22T12:30:32+0200","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>From here we can say that the regression line will follow the equation → y=mx+n, being the parameters m and n the ones calculated in the previous cell. In this case the equation will be: </p>\n<p>people_stayed = 0,63637 · people_told + 0,54545</p>\n<p>Since the slope is positive, it means that there is a positive relation between the people told and the people stayed. However, as we have said before, there is not a 1/1 relation, meaning that not all the people that is being told to stay will actually stay. In order to plot it, we calculate 10 different points and we calculate the expected value of y according to our regression line.</p>\n</div>"}]}},{"text":"obs_df = pd.DataFrame({'X': [1,2,5,6,8,9,12,16,19,22]})\nobs_df['Y'] = obs_df.apply(lambda x: 0.636363636*x+0.54545454)\nobs_df","user":"anonymous","dateUpdated":"2019-07-22T00:51:54+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"    X          Y\n0   1   1.181818\n1   2   1.818182\n2   5   3.727273\n3   6   4.363636\n4   8   5.636364\n5   9   6.272727\n6  12   8.181818\n7  16  10.727273\n8  19  12.636364\n9  22  14.545455\n"}]},"apps":[],"jobName":"paragraph_1563749405364_-1467293093","id":"20190722-005005_2049774485","dateCreated":"2019-07-22T00:50:05+0200","dateStarted":"2019-07-22T00:51:55+0200","dateFinished":"2019-07-22T00:51:55+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:367"},{"text":"%sql\nSELECT * FROM obs_df","user":"anonymous","dateUpdated":"2019-07-22T11:39:01+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"X":"string","Y":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"X","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"Y","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"X\tY\n1.0\t1.1818181760000002\n2.0\t1.8181818120000002\n5.0\t3.72727272\n6.0\t4.363636356\n8.0\t5.636363628\n9.0\t6.272727264\n12.0\t8.181818172\n16.0\t10.727272716\n19.0\t12.636363624\n22.0\t14.545454531999999\n"}]},"apps":[],"jobName":"paragraph_1563749534439_-207214548","id":"20190722-005214_367362507","dateCreated":"2019-07-22T00:52:14+0200","dateStarted":"2019-07-22T00:52:26+0200","dateFinished":"2019-07-22T00:52:26+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:368"},{"text":"%md\n#### 4.- What is your conclusion? Are you the reason why people is not staying on Fridays?","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>4.- What is your conclusion? Are you the reason why people is not staying on Fridays?</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459387_1010969178","id":"20190626-153327_407939418","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:369"},{"text":"%md\nI would say that we are not the reason why people is not staying on fridays. The hipotheses was that, the more we tell the people to stay, the less they will stay. Taking a look at the results, when we ask 2 people to stay at ironbeers, both two are staying. However, the greater this number is, for example, 12 people, only 8 are staying. The same happens when we tell 19 people, only 12 are staying. What happens here is that when we ask less people to stay, we can push them to stay, but when we increase the number of people, the push we can do to them to stay a the party is not as great as with a lower number. There are also other factors that are not considered here. ","user":"anonymous","dateUpdated":"2019-07-22T12:37:38+0200","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459388_-1194115745","id":"20190626-153330_1853969000","dateCreated":"2019-07-21T22:37:39+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:370","dateFinished":"2019-07-22T12:37:27+0200","dateStarted":"2019-07-22T12:37:27+0200","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>I would say that we are not the reason why people is not staying on fridays. The hipotheses was that, the more we tell the people to stay, the less they will stay. Taking a look at the results, when we ask 2 people to stay at ironbeers, both two are staying. However, the greater this number is, for example, 12 people, only 8 are staying. The same happens when we tell 19 people, only 12 are staying. What happens here is that when we ask less people to stay, we can push them to stay, but when we increase the number of people, the push we can do to them to stay a the party is not as great as with a lower number. There are also other factors that are not considered here.</p>\n</div>"}]}},{"text":"%md\n## Bonus Challenge: Error Analysis\n\nYou are going to do an analysis to check whether two random variables fit into a linear regression or not.\n\nIn this challenge, you are asked to do an error analysis using the data in **challenge 2**. An \"error\" is the difference between the expected value of an observation (the regression line value) and the actual value.\n\n#### 1.- First create a new column `expected_Y` in `ironbeers_df` to store the expected `Y` value for each `X`.\n**Hint**: You get the expected `Y` by evaluating the regression line for each `X`.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Bonus Challenge: Error Analysis</h2>\n<p>You are going to do an analysis to check whether two random variables fit into a linear regression or not.</p>\n<p>In this challenge, you are asked to do an error analysis using the data in <strong>challenge 2</strong>. An &ldquo;error&rdquo; is the difference between the expected value of an observation (the regression line value) and the actual value.</p>\n<h4>1.- First create a new column <code>expected_Y</code> in <code>ironbeers_df</code> to store the expected <code>Y</code> value for each <code>X</code>.</h4>\n<p><strong>Hint</strong>: You get the expected <code>Y</code> by evaluating the regression line for each <code>X</code>.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459389_1065005538","id":"20190626-205055_706998840","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:371"},{"text":"","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459392_1470534601","id":"20190626-211050_943371350","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:372"},{"text":"%md\n\n#### 2.- Create a new column `error` in `ironbeers_df` to store the error between the actual and expected values of `Y`. Plot the scatter chart of `X` and `error`.","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.- Create a new column <code>error</code> in <code>ironbeers_df</code> to store the error between the actual and expected values of <code>Y</code>. Plot the scatter chart of <code>X</code> and <code>error</code>.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459393_-1484026499","id":"20190626-211051_117697439","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:373"},{"text":"","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"X":"string","diff":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459394_-690608426","id":"20190626-212326_130532268","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:374"},{"text":"%md\n#### 3.- The closer the points to zero, the best the actual values fit the linear regression. Comment the plot above. Do you see any particular points with a high error?","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.- The closer the points to zero, the best the actual values fit the linear regression. Comment the plot above. Do you see any particular points with a high error?</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459394_-1826686243","id":"20190626-211354_1152941379","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:375"},{"text":"","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459395_-167451520","id":"20190626-213919_665730285","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:376"},{"text":"%md\n#### 4.- Remove the points with a high error and recalculate the regression line. ","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>4.- Remove the points with a high error and recalculate the regression line.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459396_-355057065","id":"20190626-213951_1863990414","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:377"},{"text":"","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459397_1326435117","id":"20190626-214055_548357742","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:378"},{"text":"%md\n#### 5.- Calculate the correlation. What is happening? Comment the result. ","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>5.- Calculate the correlation. What is happening? Comment the result.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1563741459397_-1661567580","id":"20190626-214101_161461197","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:379"},{"text":"","user":"anonymous","dateUpdated":"2019-07-21T22:37:39+0200","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563741459399_367400026","id":"20190626-214120_1816290913","dateCreated":"2019-07-21T22:37:39+0200","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:380"}],"name":"Linear_Regression_Correlation","id":"2EJTGRZH1","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}